<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>attendance_test.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "gmock/gmock.h"
#include "playerManger.h"
#include "setAttendData.h"
#include "playerCalculator.h"

using namespace testing;

class AttendanceTestFixture : public Test {
public:
<span style = "background-color:#dfd">	void SetUp() override {}</span>
};

<span style = "background-color:#dfd">TEST_F(AttendanceTestFixture, ReadResultTest) {
	ReadInputData readInpuDate;
	readInpuDate.readAttendanceFile(INPUT_FIME_NAME);</span>

<span style = "background-color:#dfd">	for (int i = 0; i &lt; readInpuDate.attendData.size(); i++) {
		cout &lt;&lt; readInpuDate.attendData[i].name &lt;&lt; " " &lt;&lt; readInpuDate.attendData[i].weekOfDay &lt;&lt; endl;
	}
}</span>

<span style = "background-color:#dfd">TEST_F(AttendanceTestFixture, ReadAllResultTest) {
	ReadInputData readInpuDate;
	PlayerDataManager playerManger;
	PlayerPointCalculator* playerPointCalculator = new PlayerPointCalculator(&amp;playerManger);
	readInpuDate.readAttendanceFile(INPUT_FIME_NAME);</span>

<span style = "background-color:#dfd">	for (int i = 0; i &lt; readInpuDate.attendData.size(); i++) {
		playerManger.setPlayerAttendatDayData(readInpuDate.attendData[i].name, readInpuDate.attendData[i].weekOfDay);
	}
	playerPointCalculator-&gt;calculatePointsForAllPlayers();
	playerManger.printPlayerAttendanceResults();
	playerManger.setReleasedPlayers();
	playerManger.printRelaePlayer();</span>

<span style = "background-color:#dfd">	vector &lt;string&gt; releasePlayerName;</span>

<span style = "background-color:#dfd">	EXPECT_EQ(playerManger.playerData.size(), 19);
}</span>

<span style = "background-color:#dfd">TEST_F(AttendanceTestFixture, ReleasePlayerTest) {
	ReadInputData readInpuDate;
	PlayerDataManager playerManger;
	PlayerPointCalculator* playerPointCalculator = new PlayerPointCalculator(&amp;playerManger);
	vector &lt;string&gt; releasePlayerName;
	readInpuDate.readAttendanceFile(INPUT_FIME_NAME);</span>

<span style = "background-color:#dfd">	for (int i = 0; i &lt; readInpuDate.attendData.size(); i++) {
		playerManger.setPlayerAttendatDayData(readInpuDate.attendData[i].name, readInpuDate.attendData[i].weekOfDay);
	}</span>

<span style = "background-color:#dfd">	playerPointCalculator-&gt;calculatePointsForAllPlayers();
	playerManger.setReleasedPlayers();</span>

<span style = "background-color:#dfd">	for (int i = 0; i &lt; playerManger.playerData.size(); i++) {
		if (playerManger.playerData[i].isReleasedPlayer == true)
			releasePlayerName.push_back(playerManger.playerData[i].names);
	}</span>

<span style = "background-color:#dfd">	EXPECT_EQ(releasePlayerName.size(), 2);
	EXPECT_EQ(releasePlayerName[0], "Bob");
	EXPECT_EQ(releasePlayerName[1], "Zane");
}</span>

<span style = "background-color:#dfd">TEST_F(AttendanceTestFixture, InvalidTest) {
	PlayerPointCalculator* playerPointCalculator = new PlayerPointCalculator(NULL);
	EXPECT_EQ(playerPointCalculator-&gt;calculatePointsForAllPlayers(), false);
}</span>

<span style = "background-color:#dfd">TEST_F(AttendanceTestFixture, InvalidTest2) {
	ReadInputData readInpuDate;
	EXPECT_THROW(readInpuDate.getDayOfWeekIndex("DEAD"), InvalidDayOfWeekInputException);
}</span>

<span style = "background-color:#dfd">TEST_F(AttendanceTestFixture, InvalidTest3) {
	ReadInputData readInpuDate;
	EXPECT_EQ(readInpuDate.readAttendanceFile(INPUT_FIME_NAME_INVALID), false);
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>